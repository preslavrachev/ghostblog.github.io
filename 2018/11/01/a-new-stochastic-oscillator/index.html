<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

				<title>A New Stochastic Oscillator?</title>

	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link rel="stylesheet" type="text/css" href="/assets/css/style.css?v=7d79bd6108" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="https://preslav.me/2018/11/01/a-new-stochastic-oscillator/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://preslav.me/2018/11/01/a-new-stochastic-oscillator/amp/" />
    
    <meta property="og:site_name" content="Preslav Rachev" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="A New Stochastic Oscillator?" />
    <meta property="og:description" content="Disclaimer: None of what follows is an actual trading advice. It was meant to educate and share my learning experience with the community, and should not be used as-is for making assumptions about the future direction of any market asset. Always do your own research! In most domains of science" />
    <meta property="og:url" content="https://preslav.me/2018/11/01/a-new-stochastic-oscillator/" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1518186285589-2f7649de83e0?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ" />
    <meta property="article:published_time" content="2018-11-01T09:43:00.000Z" />
    <meta property="article:modified_time" content="2018-12-15T06:59:44.000Z" />
    <meta property="article:tag" content="Algotrading" />
    <meta property="article:tag" content="Data Science" />
    <meta property="article:tag" content="Bitcoin" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="A New Stochastic Oscillator?" />
    <meta name="twitter:description" content="Disclaimer: None of what follows is an actual trading advice. It was meant to educate and share my learning experience with the community, and should not be used as-is for making assumptions about the future direction of any market asset. Always do your own research! In most domains of science" />
    <meta name="twitter:url" content="https://preslav.me/2018/11/01/a-new-stochastic-oscillator/" />
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1518186285589-2f7649de83e0?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Preslav Rachev" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Algotrading, Data Science, Bitcoin" />
    <meta name="twitter:site" content="@preslavrachev" />
    <meta property="og:image:width" content="1080" />
    <meta property="og:image:height" content="810" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Preslav Rachev",
        "logo": {
            "@type": "ImageObject",
            "url": "https://preslav.me/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Preslav Rachev",
        "image": {
            "@type": "ImageObject",
            "url": "https://preslav.me/content/images/2018/12/3Uv6SjbG_400x400.jpg",
            "width": 400,
            "height": 400
        },
        "url": "https://preslav.me/author/preslav/",
        "sameAs": []
    },
    "headline": "A New Stochastic Oscillator?",
    "url": "https://preslav.me/2018/11/01/a-new-stochastic-oscillator/",
    "datePublished": "2018-11-01T09:43:00.000Z",
    "dateModified": "2018-12-15T06:59:44.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1518186285589-2f7649de83e0?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ",
        "width": 1080,
        "height": 810
    },
    "keywords": "Algotrading, Data Science, Bitcoin",
    "description": "Disclaimer: None of what follows is an actual trading advice. It was meant to educate and share my learning experience with the community, and should not be used as-is for making assumptions about the future direction of any market asset. Always do your own research! In most domains of science",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://preslav.me/"
    }
}
    </script>

    <script src="/public/ghost-sdk.min.js?v=7d79bd6108"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "2a78cd55fca9"
});
</script>
    <meta name="generator" content="Ghost 2.6" />
    <link rel="alternate" type="application/rss+xml" title="Preslav Rachev" href="https://preslav.me/rss/" />
    <link href="https://micro.blog/preslavrachev" rel="me" />
<link href="https://github.com/preslavrachev" rel="me" />

<link rel="micropub" href="https://untitled-ijfrpfomttsw.runkit.sh/micropub">
<link rel="token_endpoint" href="https://tokens.indieauth.com/token">
<link rel="authorization_endpoint" href="https://indieauth.com/auth">

<style>
    .post-full-content pre {
    	margin: 1.5em 0 3em !important;
	}
    
    .blog-description: {
        background-color: #37353dad;
    	padding: 1rem;
    }
    
    
     /* Atilla-related
    .inner {
    	max-width: 36em !important;
    }
    
    .blog-cover {
    	opacity: 0.7;
        animation: none;
    }
    
    .post-comments: {
    	display:auto !important;
    }
    */
    
    .blog-cover {
    	opacity: 0.7;
        animation: none;
    }
    
    #post-header.has-cover {
    	padding-top: 4em;
    }
    
    #blog-header.has-cover {
    	padding: 2em 0 2em;
    }  
</style>
</head>

<body class="post-template tag-algotrading tag-data-science tag-bitcoin">

	<nav id="menu">
	<a class="close-button">Close</a>
	<div class="nav-wrapper">
		<p class="nav-label">Menu</p>
		<ul>
			<li class="nav-home" role="presentation"><a href="https://preslav.me/">Home</a></li>
			<li class="nav-about" role="presentation"><a href="https://preslav.me/about-me/">About</a></li>
			<li class="nav-munich-tech-community" role="presentation"><a href="https://preslav.me/aggregated-munich-tech-community/">Munich Tech Community</a></li>
			<li class="nav-devnotes" role="presentation"><a href="https://devnotes.space">DevNotes</a></li>
			<li class="nav-blogroll" role="presentation"><a href="https://preslav.me/blogroll/">Blogroll</a></li>
			<li class="nav-contact" role="presentation"><a href="https://preslav.me/contact/">Contact</a></li>
			<li class="nav-twitter"><a href="https://twitter.com/preslavrachev" title="@preslavrachev"><i class="ic ic-twitter"></i> Twitter</a></li>
			<li class="nav-rss"><a href="https://preslav.me/rss/"><i class="ic ic-rss"></i> Subscribe</a></li>
		</ul>
	</div>
</nav>


	<section id="wrapper">
		<a class="hidden-close"></a>
		

<div class="progress-container">
	<span class="progress-bar"></span>
</div>

<header id="post-header" class="has-cover" >
	<div class="inner">
		<nav id="navigation">
			<span id="home-button" class="nav-button">
				<a class="home-button" href="https://preslav.me" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
			</span>
			<span id="menu-button" class="nav-button">
				<a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
			</span>
		</nav>
			<h1 class="post-title">A New Stochastic Oscillator?</h1>
			<span class="post-meta"><a href="/about-me">Preslav Rachev</a> on <a href="/tag/algotrading/">Algotrading</a>, <a href="/tag/data-science/">Data Science</a>, <a href="/tag/bitcoin/">Bitcoin</a> | <time datetime="2018-11-01">01 Nov 2018</time></span>
				
		<div class="post-cover cover" style="background-image: url('https://images.unsplash.com/photo-1518186285589-2f7649de83e0?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ');"></div>
	</div>
</header>

<main class="content" role="main">
	<article class="post tag-algotrading tag-data-science tag-bitcoin">
		<div class="inner">

			<section class="post-content">
				<p><strong><em>Disclaimer:</em></strong> <em>None of what follows is an actual trading advice. It was meant to educate and share my learning experience with the community, and should not be used as-is for making assumptions about the future direction of any market asset. Always do your own research!</em></p>
<hr>
<p>In most domains of science (and I dare consider market technical analysis a form applied statistics/data science), serendipity plays an enormous role. Just the other day, I was playing around with the <a href="https://www.investopedia.com/terms/s/stochasticoscillator.asp">Stochastic Oscillator</a> — a well-known TA indicator, trying to create an ML-driven trading strategy that beats <a href="https://www.investopedia.com/terms/d/dollarcostaveraging.asp">Dollar-Cost-Averaging (DCA)</a>.</p>
<p>There is a popular belief that regularly investing small sums of money over a longer period of time (also known as Dollar-Cost-Averaging) is a relatively low-risk way of beating the market. I decided to try and use machine learning to beat DCA, by keeping the same manner of investing small amounts of money over time.</p>
<h2 id="stochasticoscillator">Stochastic Oscillator</h2>
<p>The Stochastic Oscillator (STOCH) is a momentum indicator, which compares the current price of an asset to the minimum and maximum price of the same asset over a period of time (usually, 14 or 30 days). The formula for calculating STOCH is very simple:</p>
<pre><code>(current_price - min_price) / (max_price - min_price)
</code></pre>
<figure class="kg-card kg-image-card"><img src="https://cdn-images-1.medium.com/max/1600/0*4GYfb9dMM0CGxKgA.gif" class="kg-image"><figcaption>source: <a href="https://www.investopedia.com/terms/s/stochasticoscillator.asp" rel="nofollow noopener">Investopedia</a></figcaption></figure><p>By giving out a ratio between 0 and 100 (or 0 and 1, depending on how you frame it), STOCH is a simple way of identifying if the market has been <em>oversold</em>(perhaps, time to buy), or <em>overbought</em> (perhaps, time to sell). There are many who believe that the oversold threshold should be 20, and the overbought one around 80.</p>
<p>Of course, using the STOCH indicator alone, will rarely, if ever bring you any significant trading performance. The truth lies in creatively combining STOCHs of different time periods together with other indicators in a model that is versatile against market swings. I would usually use a <a href="https://en.wikipedia.org/wiki/Random_forest">random forest</a> of multiple shallow <a href="https://en.wikipedia.org/wiki/Decision_tree_learning">decision trees</a>, each using only one or two indicators to classify the available data.</p>
<p>It turns out that while calculating STOCH, I had left an error. Instead of the formula above, it read:</p>
<pre><code>(mean_of_price_across_period - min_price) / (max_price - min_price)
</code></pre>
<p>I calculated both for a 3-month period of the price Bitcoin/Euro. My version (blue line) seems like a strangely smoothed out version of STOCH (orange line). One would argue that what I have created is just a simple smoothing of the orange line. For comparison, I have added a 14-day simple smoothed out version of the STOCH indicator (the green line). Indeed, the blue and the green lines tend to converge, but not all the time. What makes the blue one even more interesting, is that unlike the fully smoothed-out version, it retains a certain level of detail, without swinging into extremes, the way pure STOCH does.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*kWaD_z7De592VPG3Obim0Q.png" alt=""></p>
<p>Comparing my version of STOCH with what should be its correct calculation</p>
<h2 id="tradingperformance">Trading Performance</h2>
<p>I would not have started writing about this, if it weren’t for the interesting trading performance I got from this supposedly “wrong” STOCH indicator. Let’s put this into perspective. I tested four different strategies on the Bitcoin/Euro price starting from Jan 01, 2018. All the strategies involved investing EUR 50 at the beginning of each month, and except DCA (the blue line), all others included selling of Bitcoin at various points and in varying magnitudes. This is what I got:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*FyHtLmfhZuflH4fRmqJpEA.png" alt=""></p>
<p>Comparing trading strategy performance: Jan 2018 — Nov 2018</p>
<p>Using the old STOCH rule of thumb — buy under 20, sell above 80 (orange line) does perform a little better than simply buying regularly and holding. In fact, it does perform slightly better even than a random forest ML model that has STOCH as one of its features (the green line). Yet, only in this short bearish period of 11 months. Interestingly enough, the real “winner” seems to be the same version of the random forest strategy, which uses the “wrongly” calculated STOCH. Of all strategies, it is the only one that manages to break even (go above the purple step line), albeit, only by a little.</p>
<p>Dragging the starting point a mere 6 months earlier, right in the middle of the the wild crypto market uprise, shows a completely different picture. Buying and selling using the rule of thumb is nowhere near close. It has remained mostly under the break-even line. The other three strategies pretty much follow the market swings, but the one that really stands out, is the random forest model that uses the variation of STOCH that I thought I’d computed wrongly.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*U-FoyA4z-apvKVcKfPhqIA.png" alt=""></p>
<p>Comparing trading strategy performance: Jun 2017 — Nov 2018</p>
<p>Coincidence? Yet, stretching the start of the trading period as far back as the beginning of 2016would pretty much result int he same picture. By using the modified STOCH as part of my ML model, the strategy has somehow managed to take advantage of the second downfall wave of Bitcoin during February/March of 2018, by selling at the top and re-buying again down at the bottom.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*EV5qh9zlW8Nm5f6gt4D4gw.png" alt=""></p>
<p>Comparing trading strategy performance: Jan 2016 — Nov 2018</p>
<h2 id="conclusion">Conclusion</h2>
<p>Whether this is a good strategy or not, it is hard for me to judge, based on only the limited data I used. Frankly, as mentioned at the top of the article, its goal is to share some of my learning with the community, and not to give trading advice of any sort.</p>
<p>It seems like I would keep seeing this interpretation of STOCH in future iterations of my strategy. Serendipity plays a huge role in my research, and I will try to <em>break</em> a few more rules of the technical analysis establishment, with the hope that I find some more gems hidden hidden beneath the rocks.</p>
<p></p>
			</section>

			<section class="post-info">

				<div class="post-share">
					<a class="twitter" href="https://twitter.com/share?text=A New Stochastic Oscillator?&url=https://preslav.me/2018/11/01/a-new-stochastic-oscillator/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
						<i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
					</a>
					<a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://preslav.me/2018/11/01/a-new-stochastic-oscillator/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
						<i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
					</a>
					<a class="googleplus" href="https://plus.google.com/share?url=https://preslav.me/2018/11/01/a-new-stochastic-oscillator/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
						<i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
					</a>
					<div class="clear"></div>
				</div>

				<aside class="post-tags">
					<a href="/tag/algotrading/">Algotrading</a> <a href="/tag/data-science/">Data Science</a> <a href="/tag/bitcoin/">Bitcoin</a>
				</aside>

				<div class="clear"></div>
						<aside class="post-author">
							<figure class="post-author-avatar avatar">
									<img src="/content/images/2018/12/3Uv6SjbG_400x400.jpg" alt="Preslav Rachev" />
							</figure>
							<div class="post-author-bio">
								<h4 class="post-author-name"><a href="/author/preslav/">Preslav Rachev</a></h4>
									<p class="post-author-about">I am a software engineer at KI labs GmbH and advocate for strong developer culture. In my free time, I enjoy running in the woods, reading a great book, or working on my next piece of writing/music.</p>
								<style>
									.bmc-button img {
										width: 27px !important;
										margin-bottom: 1px !important;
										box-shadow: none !important;
										border: none !important;
										vertical-align: middle !important;
									}
								
									.bmc-button {
										line-height: 36px !important;
										height: 37px !important;
										text-decoration: none !important;
										display: inline-flex !important;
										color: #ffffff !important;
										background-color: #FF813F !important;
										border-radius: 3px !important;
										border: 1px solid transparent !important;
										padding: 1px 9px !important;
										font-size: 22px !important;
										letter-spacing: 0.6px !important;
										box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
										-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
										margin: 0 auto !important;
										font-family: 'Cookie', cursive !important;
										-webkit-box-sizing: border-box !important;
										box-sizing: border-box !important;
										-o-transition: 0.3s all linear !important;
										-webkit-transition: 0.3s all linear !important;
										-moz-transition: 0.3s all linear !important;
										-ms-transition: 0.3s all linear !important;
										transition: 0.3s all linear !important;
									}
								
									.bmc-button:hover,
									.bmc-button:active,
									.bmc-button:focus {
										-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
										text-decoration: none !important;
										box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
										opacity: 0.85 !important;
										color: #ffffff !important;
									}
								</style>
								<link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet"><a class="bmc-button" target="_blank"
									href="https://www.buymeacoffee.com/0B7zhlQ2I"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"
										alt="Buy me a coffee"><span style="margin-left:5px; margin-top: 0px; margin-right: 0px; font-size: 1em">Buy me a coffee</span></a>
								<br/>
									<span class="post-author-location"><i class="ic ic-location"></i> Munich, Germany</span>
								<div class="post-author-social">
									<ul>
										<li><a href="http://twitter.com/preslavrachev" class="smallsocial twitter" target="_blank"><i class="ic ic-twitter"></i></a></li>
										<li><a href="http://github.com/preslavrachev" class="smallsocial github" target="_blank"><i class="fab fa-github"></i></a></li>
										<li><a href="https://plus.google.com/+PreslavRachev" class="smallsocial googleplus" target="_blank"><i
												 class="fab fa-google-plus"></i></a></li>
										<li><a href="http://www.linkedin.com/in/preslavrachev" class="smallsocial linkedin" target="_blank"><i class="fab fa-linkedin"></i></a></li>
										<li><a href="https://stackoverflow.com/users/1107412/preslav-rachev" class="smallsocial stackoverflow" target="_blank"><i
												 class="fab fa-stack-overflow"></i></a></li>
									</ul>
								</div>
							</div>
							<div class="clear"></div>
						</aside>
			</section>


			<section class="post-comments">
				<script src="https://utteranc.es/client.js" 
                        repo="preslavrachev/preslav.me-comments" 
                        issue-term="pathname" 
                        theme="github-light"
                        crossorigin="anonymous" 
                        async>
                </script>
			</section>

			<aside class="post-nav">
					<a class="post-nav-prev" href="/2018/06/02/my-new-pet-project-shouldidhodl/">
						<section class="post-nav-teaser">
							<i class="ic ic-arrow-right"></i>
								<h2 class="post-nav-title">Introducing My New Pet Project: Should I HODL</h2>
								<p class="post-nav-excerpt">My crypto-obsession from last year might have died down a little, but&hellip;</p>
						</section>
					</a>
				<div class="clear"></div>
			</aside>
		</div>
	</article>
</main>


		<div id="body-class" style="display: none;" class="post-template tag-algotrading tag-data-science tag-bitcoin"></div>

		<footer id="footer">
			<div class="inner">
				<section class="credits">
					<span class="credits-theme">Theme <a href="https://github.com/zutrinken/attila">Attila</a> by <a href="https://zutrinken.com" rel="nofollow">zutrinken</a></span>
					<span class="credits-software">Published with <a href="https://ghost.org">Ghost</a></span>
				</section>
			</div>
		</footer>
	</section>

	<script type="text/javascript" src="/assets/js/script.js?v=7d79bd6108"></script>

	<!-- Clicky Analytics -->
<script>var clicky_site_ids = clicky_site_ids || []; clicky_site_ids.push(101131786);</script>
<script async src="//static.getclicky.com/js"></script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131031623-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131031623-1');
    
  function handler() {
        if (scroll_count === 200) {
            document.removeEventListener('scroll', handler);
            gtag('event', 'scroll', {
  				'event_category' : 'behaviour',
  				'event_label' : 'scroll'
			});
        } else {
            scroll_count += 1;
        }
    }

  scroll_count = 0;
  document.addEventListener('scroll', handler)
</script>

<script>
    window.cookieconsent.initialise({
    container: document.getElementById("content"),
    palette:{
      popup: {background: "#fff"},
      button: {background: "#26a8ed", text: "#fff"},
    },
    revokable:false,
    onStatusChange: function(status) {
      if (this.hasConsented()) {
      	mixpanel.track("Accepts cookie consent");
      }
    },
    law: {
      regionalLaw: true,
    },
    location: true,
    content: {
    	message: "This blog uses cookies and collects limited analytics, to ensure you get the best reading experience."
    },
    position: "bottom-right"
  });
</script> 

<script src="https://www.gitcdn.xyz/repo/alexritchey/Ghost-Archives/master/src/jquery.ghostArchives.js"></script>

</body>
</html>
